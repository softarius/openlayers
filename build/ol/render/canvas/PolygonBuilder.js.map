{"version":3,"file":"PolygonBuilder.js","sources":["../../../../src/ol/render/canvas/PolygonBuilder.js"],"sourcesContent":["/**\r\n * @module ol/render/canvas/PolygonBuilder\r\n */\r\nimport {asString} from '../../color.js';\r\nimport {snap} from '../../geom/flat/simplify.js';\r\nimport {defaultFillStyle} from '../canvas.js';\r\nimport CanvasInstruction, {\r\n  fillInstruction, strokeInstruction, beginPathInstruction, closePathInstruction\r\n} from './Instruction.js';\r\nimport CanvasBuilder from './Builder.js';\r\n\r\n\r\nclass CanvasPolygonBuilder extends CanvasBuilder {\r\n  /**\r\n   * @param {number} tolerance Tolerance.\r\n   * @param {import(\"../../extent.js\").Extent} maxExtent Maximum extent.\r\n   * @param {number} resolution Resolution.\r\n   * @param {number} pixelRatio Pixel ratio.\r\n   * @param {boolean} overlaps The replay can have overlapping geometries.\r\n   * @param {?} declutterTree Declutter tree.\r\n   */\r\n  constructor(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree) {\r\n    super(tolerance, maxExtent, resolution, pixelRatio, overlaps, declutterTree);\r\n  }\r\n\r\n  /**\r\n   * @param {Array<number>} flatCoordinates Flat coordinates.\r\n   * @param {number} offset Offset.\r\n   * @param {Array<number>} ends Ends.\r\n   * @param {number} stride Stride.\r\n   * @private\r\n   * @return {number} End.\r\n   */\r\n  drawFlatCoordinatess_(flatCoordinates, offset, ends, stride) {\r\n    const state = this.state;\r\n    const fill = state.fillStyle !== undefined;\r\n    const stroke = state.strokeStyle != undefined;\r\n    const numEnds = ends.length;\r\n    this.instructions.push(beginPathInstruction);\r\n    this.hitDetectionInstructions.push(beginPathInstruction);\r\n    for (let i = 0; i < numEnds; ++i) {\r\n      const end = ends[i];\r\n      const myBegin = this.coordinates.length;\r\n      const myEnd = this.appendFlatCoordinates(flatCoordinates, offset, end, stride, true, !stroke);\r\n      const moveToLineToInstruction = [CanvasInstruction.MOVE_TO_LINE_TO, myBegin, myEnd];\r\n      this.instructions.push(moveToLineToInstruction);\r\n      this.hitDetectionInstructions.push(moveToLineToInstruction);\r\n      if (stroke) {\r\n        // Performance optimization: only call closePath() when we have a stroke.\r\n        // Otherwise the ring is closed already (see appendFlatCoordinates above).\r\n        this.instructions.push(closePathInstruction);\r\n        this.hitDetectionInstructions.push(closePathInstruction);\r\n      }\r\n      offset = end;\r\n    }\r\n    if (fill) {\r\n      this.instructions.push(fillInstruction);\r\n      this.hitDetectionInstructions.push(fillInstruction);\r\n    }\r\n    if (stroke) {\r\n      this.instructions.push(strokeInstruction);\r\n      this.hitDetectionInstructions.push(strokeInstruction);\r\n    }\r\n    return offset;\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  drawCircle(circleGeometry, feature) {\r\n    const state = this.state;\r\n    const fillStyle = state.fillStyle;\r\n    const strokeStyle = state.strokeStyle;\r\n    if (fillStyle === undefined && strokeStyle === undefined) {\r\n      return;\r\n    }\r\n    this.setFillStrokeStyles_(circleGeometry);\r\n    this.beginGeometry(circleGeometry, feature);\r\n    if (state.fillStyle !== undefined) {\r\n      this.hitDetectionInstructions.push([\r\n        CanvasInstruction.SET_FILL_STYLE,\r\n        asString(defaultFillStyle)\r\n      ]);\r\n    }\r\n    if (state.strokeStyle !== undefined) {\r\n      this.hitDetectionInstructions.push([\r\n        CanvasInstruction.SET_STROKE_STYLE,\r\n        state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\r\n        state.miterLimit, state.lineDash, state.lineDashOffset\r\n      ]);\r\n    }\r\n    const flatCoordinates = circleGeometry.getFlatCoordinates();\r\n    const stride = circleGeometry.getStride();\r\n    const myBegin = this.coordinates.length;\r\n    this.appendFlatCoordinates(\r\n      flatCoordinates, 0, flatCoordinates.length, stride, false, false);\r\n    const circleInstruction = [CanvasInstruction.CIRCLE, myBegin];\r\n    this.instructions.push(beginPathInstruction, circleInstruction);\r\n    this.hitDetectionInstructions.push(beginPathInstruction, circleInstruction);\r\n    this.hitDetectionInstructions.push(fillInstruction);\r\n    if (state.fillStyle !== undefined) {\r\n      this.instructions.push(fillInstruction);\r\n    }\r\n    if (state.strokeStyle !== undefined) {\r\n      this.instructions.push(strokeInstruction);\r\n      this.hitDetectionInstructions.push(strokeInstruction);\r\n    }\r\n    this.endGeometry(circleGeometry, feature);\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  drawPolygon(polygonGeometry, feature) {\r\n    const state = this.state;\r\n    const fillStyle = state.fillStyle;\r\n    const strokeStyle = state.strokeStyle;\r\n    if (fillStyle === undefined && strokeStyle === undefined) {\r\n      return;\r\n    }\r\n    this.setFillStrokeStyles_(polygonGeometry);\r\n    this.beginGeometry(polygonGeometry, feature);\r\n    if (state.fillStyle !== undefined) {\r\n      this.hitDetectionInstructions.push([\r\n        CanvasInstruction.SET_FILL_STYLE,\r\n        asString(defaultFillStyle)\r\n      ]);\r\n    }\r\n    if (state.strokeStyle !== undefined) {\r\n      this.hitDetectionInstructions.push([\r\n        CanvasInstruction.SET_STROKE_STYLE,\r\n        state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\r\n        state.miterLimit, state.lineDash, state.lineDashOffset\r\n      ]);\r\n    }\r\n    const ends = polygonGeometry.getEnds();\r\n    const flatCoordinates = polygonGeometry.getOrientedFlatCoordinates();\r\n    const stride = polygonGeometry.getStride();\r\n    this.drawFlatCoordinatess_(flatCoordinates, 0, ends, stride);\r\n    this.endGeometry(polygonGeometry, feature);\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  drawMultiPolygon(multiPolygonGeometry, feature) {\r\n    const state = this.state;\r\n    const fillStyle = state.fillStyle;\r\n    const strokeStyle = state.strokeStyle;\r\n    if (fillStyle === undefined && strokeStyle === undefined) {\r\n      return;\r\n    }\r\n    this.setFillStrokeStyles_(multiPolygonGeometry);\r\n    this.beginGeometry(multiPolygonGeometry, feature);\r\n    if (state.fillStyle !== undefined) {\r\n      this.hitDetectionInstructions.push([\r\n        CanvasInstruction.SET_FILL_STYLE,\r\n        asString(defaultFillStyle)\r\n      ]);\r\n    }\r\n    if (state.strokeStyle !== undefined) {\r\n      this.hitDetectionInstructions.push([\r\n        CanvasInstruction.SET_STROKE_STYLE,\r\n        state.strokeStyle, state.lineWidth, state.lineCap, state.lineJoin,\r\n        state.miterLimit, state.lineDash, state.lineDashOffset\r\n      ]);\r\n    }\r\n    const endss = multiPolygonGeometry.getEndss();\r\n    const flatCoordinates = multiPolygonGeometry.getOrientedFlatCoordinates();\r\n    const stride = multiPolygonGeometry.getStride();\r\n    let offset = 0;\r\n    for (let i = 0, ii = endss.length; i < ii; ++i) {\r\n      offset = this.drawFlatCoordinatess_(flatCoordinates, offset, endss[i], stride);\r\n    }\r\n    this.endGeometry(multiPolygonGeometry, feature);\r\n  }\r\n\r\n  /**\r\n   * @inheritDoc\r\n   */\r\n  finish() {\r\n    this.reverseHitDetectionInstructions();\r\n    this.state = null;\r\n    // We want to preserve topology when drawing polygons.  Polygons are\r\n    // simplified using quantization and point elimination. However, we might\r\n    // have received a mix of quantized and non-quantized geometries, so ensure\r\n    // that all are quantized by quantizing all coordinates in the batch.\r\n    const tolerance = this.tolerance;\r\n    if (tolerance !== 0) {\r\n      const coordinates = this.coordinates;\r\n      for (let i = 0, ii = coordinates.length; i < ii; ++i) {\r\n        coordinates[i] = snap(coordinates[i], tolerance);\r\n      }\r\n    }\r\n    return super.finish();\r\n  }\r\n\r\n  /**\r\n   * @private\r\n   * @param {import(\"../../geom/Geometry.js\").default|import(\"../Feature.js\").default} geometry Geometry.\r\n   */\r\n  setFillStrokeStyles_(geometry) {\r\n    const state = this.state;\r\n    const fillStyle = state.fillStyle;\r\n    if (fillStyle !== undefined) {\r\n      this.updateFillStyle(state, this.createFill, geometry);\r\n    }\r\n    if (state.strokeStyle !== undefined) {\r\n      this.updateStrokeStyle(state, this.applyStroke);\r\n    }\r\n  }\r\n}\r\n\r\n\r\nexport default CanvasPolygonBuilder;\r\n"],"names":["super","const","let"],"mappings":"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"}